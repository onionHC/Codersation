理念
======

モデリングの際に意識すること
--------------------------

* ユースケース駆動
    * ``ユースケース記述ーロバストネス分析ードメイン構造分析ー単体テスト`` のフローを守る
* 以前から実装してみたかった James O. Coplien 氏の DCI (Data, Context, Interaction)アーキテクチャ的アプローチを試みる

モデリング要素（ステレオタイプ）
----------------------------

* Context
    * ドメイン知識の起点
* Role
    * ドメインの文脈(Context）内で適用される責務
* Resource
    * ドメインの文脈でくるまれるデータの対象
* Constraint
    * ドメインに対する制約
        * 入力制限等
* Value
	* ドメインの外部からやってくる値
	* またはドメインの外部へ出力すべき値
* Enum
    * 列挙されるなにか
    * 直和的な値の集合
* Actor
    * Contextに影響を及ぼす、利害関係者
* Event
    * ActorがContextに影響を与えた後、Contextが別のActorにトリガー通知するための手段

ActorとEventはまだ予定段階で、現在はまだ使われていないのだ。

実装
-------

* C#でがんばるお！
* Mac上のMono (MonoDevelop)で実装しているので、Visual Studioでビルドできるか不明です。
    * ターゲットフレームワークバージョンは.NET 4.0 (Visual Studio 2010以降)

実行
-------

コンソールアプリをmonoで実行する場合は、

```
mono <VendingMachine.Console.exeへのパス>
```

で実行できるよ。

気づいたこと・その他
---------------------

* 本来のDCIはDataにInteractionを織り込むが、C#ではかなり無理ゲー臭漂っているため、方向を微調整する。
    * InteractionはContextに必要なものだけをContextに織り込む（注入する）
    * 共有する必要のあるDataは、Dataを直接注入するのではなく、別のContextでくるんで注入する
        * たとえば、釣り銭準備金（購入と釣り銭補充の２つの文脈で共有が必要）

